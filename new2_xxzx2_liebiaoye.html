<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name='viewport' content="width=device-width,initial-scale=1.0,minimum-scale=1,maximum-scale=1.0,user-scalable=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>消息中心2</title>
    <script type="text/javascript" src="js/jquery-1.12.3.min.js"></script>
    <script type="text/javascript" src="js/top.js"></script>
    <link rel="stylesheet" href="css/reset.css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="css/new2_xxzx2_liebiaoye.css" media="screen" title="no title" charset="utf-8">
    <style media="screen">
    body{
      background: #f2f2f2;
    }
    .warp_All_xxzx2{
      position: relative;
      margin: 0 auto;
      min-width: 320px;
      max-width: 640px;
      font-family: "微软雅黑";
    }
    .mess_content_1{
      padding:0.2rem 0.1rem;
    }
    </style>
  </head>
  <body>
    <div class="warp_All_xxzx2">
      	<!--#include virtual="/wolianm2/include/headerinfo12.html"-->
        <ul class="message_ul">
            <li class="mess_time">10:20</li>
            <li class="mess_content mess_content_1">

              <p class="mess_cont_tit" title="地方　方法">标题标题标题，标题标题！</p>
              <p class="mess_cont_xq">
                  消息消息消息消息，http://124.192.56.213:180/wolianm2/new2_xxzx2_liebiaoye.html消息消息消息消息消息。消息消息消息，消息消息消息消息。https://www.baidu.com/
              </p>
            </li>
            <li class="mess_time">昨天  10:20</li>
            <li class="mess_content mess_content_1">

              <p class="mess_cont_tit">标题标题标题，标题标题！</p>
              <p class="mess_cont_xq">
                  消息消息消息消息，消息消息0511消息消息消息。消息0511消息消息，消息消息消息消息。消息消息消息消息，消息消息消息，消息消息消息消息。https://www.baidu.com/
              </p>

            </li>
            <li class="mess_time">16-01-01  10:20</li>
            <li class="mess_content mess_content_1">

              <p class="mess_cont_tit">标题标题标题，标题标题！</p>
              <p class="mess_cont_xq">
                  消息消息消息消息，消息消息消息123消息消息。消息消息1234消息，消息消息消12345678901234567890123456息消息。息消息电话18687652411消息消息消息消息，消息18687652422消息消息，消息消息消息消息。https://www.baidu.com/
              </p>

            </li>

        </ul>
    </div>
    <script type="text/javascript">
    window.onload = function(){
      $('.title_lll').text('消息中心');
    }
    $(function(){
          $(".mess_cont_xq").each(function(){
                var s1=$(this).html();
                var 	_htt=s1.match(/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&amp;:/~\+#]*[\w\-\@?^=%&amp;/~\+#])?/g);
                var  s2=s1;
                // 先把网址提取后过滤掉得到一个不含网址的s2;然后在s2中把数字的提取出来
                for(var th1=0;th1<_htt.length;th1++){
                  var th_1=s1.indexOf(_htt[th1]);
                  var th_lg=_htt[th1].length;
                  var th_s="";
                  for(var tths=0;tths<th_lg;tths++){
                    th_s=th_s+"*";
                  }
                  // alert(_htt[th1]);
                  s2=s2.replace(s2.substring(th_1,th_1+th_lg),th_s);
                  $(this).html(s2);
                }
                // var 	num=s1.match(/1[3,5,8]{1}[0-9]{9}/g);//手机号码识别
                // var 	num1=s1.match(/d{3}-d{8}|d{4}-d{7}/g);//固定电话识别
                  var 	num=s2.match(/[0-9]{3,26}/g);//3-16位数字识别
                  //alert(num);
                  if(num==null){

                  }else{
                    for(var i=0;i<num.length;i++){
                      if(num[i].length<26){
                        var index_1=s1.indexOf(num[i]);

                        s="<a class='t_s_style' href='tel:"+num[i]+"'>"+num[i]+"</a>";
                        s1=s1.replace(s1.substring(index_1,index_1+num[i].length),s);
                        $(this).html(s1);
                      }

                    }
                  }
                if(_htt==null){

                  }else{
                    for(var i=0;i<_htt.length;i++){
                      var index_1=s1.indexOf(_htt[i]);
                      var _htt_lg=_htt[i].length;
                      s="<a class='t_s_style' href='"+_htt[i]+"'>"+_htt[i]+"</a>";
                      s1=s1.replace(s1.substring(index_1,index_1+_htt_lg),s);
                      $(this).html(s1);
                    }
                  }

            })
        })
    </script>
  </body>
</html>
